<!-- ============================================================================
Fichier: frontend/index.html
Version: v3.1.3 - PERFORMANCE OPTIMIZED
Date: 2025-10-16
============================================================================ 
MODIFICATIONS v3.1.3:
‚úì Ajout PerformanceConfig.js (CHARG√â EN PREMIER)
‚úì Ordre de chargement optimis√©
‚úì Scripts performance ajout√©s
============================================================================ -->
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDI Mind - Syst√®me d'Orchestration MIDI v3.1</title>
    
    <!-- Styles CSS -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/pages.css">
    <link rel="stylesheet" href="styles/midi.css">
    <link rel="stylesheet" href="styles/themes.css">
</head>
<body>
    <!-- ========================================================================
         HEADER & NAVIGATION
         ======================================================================== -->
    <header class="app-header">
        <div class="header-content">
            <div class="header-left">
                <h1 class="app-title">
                    <span class="app-icon">üéπ</span>
                    MIDI Mind
                    <span class="app-version">v3.1</span>
                </h1>
            </div>
            
            <nav class="main-nav">
                <a href="#home" class="nav-item active" data-page="home">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-label">Accueil</span>
                </a>
                <a href="#editor" class="nav-item" data-page="editor">
                    <span class="nav-icon">‚úèÔ∏è</span>
                    <span class="nav-label">√âditeur</span>
                </a>
                <a href="#routing" class="nav-item" data-page="routing">
                    <span class="nav-icon">üîÄ</span>
                    <span class="nav-label">Routage</span>
                </a>
                <a href="#keyboard" class="nav-item" data-page="keyboard">
                    <span class="nav-icon">üéπ</span>
                    <span class="nav-label">Clavier</span>
                </a>
                <a href="#instruments" class="nav-item" data-page="instruments">
                    <span class="nav-icon">üé∏</span>
                    <span class="nav-label">Instruments</span>
                </a>
                <a href="#system" class="nav-item" data-page="system">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-label">Syst√®me</span>
                </a>
            </nav>
            
            <div class="header-right">
                <div id="connection-status" class="connection-status">
                    <span class="status-dot"></span>
                    <span class="status-text">D√©connect√©</span>
                </div>
            </div>
        </div>
    </header>

    <!-- ========================================================================
         MAIN CONTENT
         ======================================================================== -->
    <main class="app-main">
        <!-- Pages charg√©es dynamiquement -->
        <div id="home" class="page active"></div>
        <div id="editor" class="page"></div>
        <div id="routing" class="page"></div>
        <div id="keyboard" class="page"></div>
        <div id="instruments" class="page"></div>
        <div id="system" class="page"></div>
    </main>

    <!-- ========================================================================
         NOTIFICATIONS CONTAINER
         ======================================================================== -->
    <div id="notifications-container" class="notifications-container"></div>

    <!-- ========================================================================
         DEBUG CONSOLE
         ======================================================================== -->
    <div id="debug-console" class="debug-console collapsed">
        <div class="debug-header">
            <span class="debug-title">Console Debug</span>
            <button class="debug-toggle" onclick="window.debugConsole?.toggle()">_</button>
        </div>
        <div class="debug-content">
            <div class="debug-filters">
                <button class="filter-btn active" data-level="all">Tous</button>
                <button class="filter-btn" data-level="info">Info</button>
                <button class="filter-btn" data-level="warn">Warn</button>
                <button class="filter-btn" data-level="error">Error</button>
                <button class="clear-btn">Effacer</button>
            </div>
            <div class="debug-output"></div>
        </div>
    </div>

    <!-- ========================================================================
         LOADING INDICATOR
         ======================================================================== -->
    <div id="loading-indicator" class="loading-indicator">
        <div class="spinner"></div>
        <p>Chargement de MIDI Mind...</p>
    </div>

    <!-- ========================================================================
         SCRIPTS - ORDRE CRITIQUE POUR PERFORMANCE
         ======================================================================== -->
    
    <!-- ========================================================================
         √âTAPE 0: CONFIGURATION PERFORMANCE (DOIT √äTRE CHARG√â EN PREMIER !)
         ======================================================================== -->
    <script src="js/config/PerformanceConfig.js"></script>
    
    <!-- ========================================================================
         √âTAPE 1: FONDATIONS - EventBus (utilis√© par TOUT le reste)
         ======================================================================== -->
    <script src="js/core/EventBus.js"></script>

    <!-- ========================================================================
         √âTAPE 2: UTILITAIRES DE BASE (pas de d√©pendances)
         ======================================================================== -->
    <script src="js/utils/Logger.js"></script>
    <script src="js/utils/Constants.js"></script>
    <script src="js/utils/Formatter.js"></script>
    <script src="js/utils/Validator.js"></script>
    <script src="js/utils/DebugConsole.js"></script>

    <!-- ========================================================================
         √âTAPE 3: CONFIGURATION
         ======================================================================== -->
    <script src="js/config/AppConfig.js"></script>

    <!-- ========================================================================
         √âTAPE 4: COMMUNICATION BACKEND
         ======================================================================== -->
    <script src="js/api/WebSocketClient.js"></script>
    <script src="js/api/ApiClient.js"></script>

    <!-- ========================================================================
         √âTAPE 5: UTILITAIRES AVANC√âS (d√©pendent des pr√©c√©dents)
         ======================================================================== -->
    <script src="js/utils/StateManager.js"></script>
    <script src="js/utils/CacheManager.js"></script>
    <script src="js/utils/PerformanceMonitor.js"></script>
    <script src="js/utils/NotificationManager.js"></script>
    <script src="js/utils/RoutingManager.js"></script>

    <!-- ========================================================================
         √âTAPE 6: MOD√àLES DE DONN√âES
         ======================================================================== -->
    <script src="js/models/BaseModel.js"></script>
    <script src="js/models/FileModel.js"></script>
    <script src="js/models/InstrumentModel.js"></script>
    <script src="js/models/EditorModel.js"></script>
    <script src="js/models/RoutingModel.js"></script>
    <script src="js/models/SystemModel.js"></script>
    <script src="js/models/PlaybackModel.js"></script>

    <!-- ========================================================================
         √âTAPE 7: VUES - BASE
         ======================================================================== -->
    <script src="js/views/BaseView.js"></script>

    <!-- ========================================================================
         √âTAPE 8: COMPOSANTS √âDITEUR (ordre important)
         ======================================================================== -->
    <!-- Syst√®me de coordonn√©es (utilis√© par les renderers) -->
    <script src="js/editor/CoordinateSystem.js"></script>
    
    <!-- Renderers (d√©pendent du CoordinateSystem) -->
    <script src="js/editor/renderers/RenderEngine.js"></script>
    <script src="js/editor/renderers/GridRenderer.js"></script>
    <script src="js/editor/renderers/TimelineRenderer.js"></script>
    <script src="js/editor/renderers/PianoRollRenderer.js"></script>
    <!-- SUPPRIM√â: VelocityRenderer.js (performance optimization) -->
    
    <!-- Gestionnaires (d√©pendent des renderers) -->
    <script src="js/editor/SelectionManager.js"></script>
    <script src="js/editor/EditingTools.js"></script>

    <!-- ========================================================================
         √âTAPE 9: VUES - PAGES
         ======================================================================== -->
    <script src="js/views/HomeView.js"></script>
    <script src="js/views/EditorView.js"></script>
    <script src="js/views/RoutingView.js"></script>
    <script src="js/views/KeyboardView.js"></script>
    <script src="js/views/InstrumentView.js"></script>
    <script src="js/views/SystemView.js"></script>

    <!-- ========================================================================
         √âTAPE 10: CONTR√îLEURS
         ======================================================================== -->
    <script src="js/controllers/BaseController.js"></script>
    <script src="js/controllers/HomeController.js"></script>
    <script src="js/controllers/FileController.js"></script>
    <script src="js/controllers/EditorController.js"></script>
    <script src="js/controllers/RoutingController.js"></script>
    <script src="js/controllers/KeyboardController.js"></script>
    <script src="js/controllers/InstrumentController.js"></script>
    <script src="js/controllers/SystemController.js"></script>
    <script src="js/controllers/PlaybackController.js"></script>
    <script src="js/controllers/NavigationController.js"></script>

    <!-- ========================================================================
         √âTAPE 11: APPLICATION (d√©pend de TOUT)
         ======================================================================== -->
    <script src="js/core/Application.js"></script>

    <!-- ========================================================================
         √âTAPE 12: INITIALISATION (DOIT √äTRE LE DERNIER)
         ======================================================================== -->
    <script src="js/main.js"></script>

</body>
</html>
